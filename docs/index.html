<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content="Brendan Molloy">
<title>kbdgen User Manual</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>kbdgen User Manual</h1>
<div class="details">
<span id="author" class="author">Brendan Molloy</span><br>
<span id="email" class="email"><a href="mailto:brendan@bbqsrc.net">brendan@bbqsrc.net</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction_to_kbdgen_2_0_0_alpha_2">1. Introduction to kbdgen 2.0.0-alpha.3</a>
<ul class="sectlevel2">
<li><a href="#what_is_kbdgen">1.1. What is kbdgen?</a></li>
<li><a href="#supported_targets">1.2. Supported targets</a></li>
<li><a href="#anatomy_of_a_kbdgen_project">1.3. Anatomy of a kbdgen project</a></li>
<li><a href="#usage">1.4. Usage</a></li>
</ul>
</li>
<li><a href="#transitioning_from_kbdgen_1_x_to_2_x">2. Transitioning from kbdgen 1.x to 2.x</a>
<ul class="sectlevel2">
<li><a href="#fundamental_differences_between_kbdgen_1_x_and_2_x">2.1. Fundamental differences between kbdgen 1.x and 2.x:</a></li>
<li><a href="#converting_a_kbdgen_1_x_project_to_2_x">2.2. Converting a kbdgen 1.x project to 2.x</a></li>
</ul>
</li>
<li><a href="#installation">3. Installation</a>
<ul class="sectlevel2">
<li><a href="#pre_built">3.1. Pre-built</a>
<ul class="sectlevel3">
<li><a href="#macos">3.1.1. macOS</a></li>
<li><a href="#linux">3.1.2. Linux</a></li>
<li><a href="#windows">3.1.3. Windows</a></li>
</ul>
</li>
<li><a href="#from_source">3.2. From Source</a></li>
</ul>
</li>
<li><a href="#kbdgen_file_structure_overview">4. kbdgen file structure overview</a>
<ul class="sectlevel2">
<li><a href="#files">4.1. Files</a>
<ul class="sectlevel3">
<li><a href="#projects">4.1.1. Projects</a></li>
<li><a href="#layouts">4.1.2. Layouts</a></li>
</ul>
</li>
<li><a href="#targets">4.2. Targets</a>
<ul class="sectlevel3">
<li><a href="#android">4.2.1. Android</a></li>
<li><a href="#ios">4.2.2. iOS</a></li>
<li><a href="#macos_2">4.2.3. macOS</a></li>
<li><a href="#svg">4.2.4. SVG</a></li>
<li><a href="#windows_2">4.2.5. Windows</a></li>
<li><a href="#x11">4.2.6. X11</a></li>
<li><a href="#m17n">4.2.7. M17n</a></li>
<li><a href="#chrome">4.2.8. Chrome</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#project_file_structure_reference">5. Project file structure reference</a>
<ul class="sectlevel2">
<li><a href="#deriveoptions">5.1. DeriveOptions</a></li>
<li><a href="#desktopkeymap">5.2. DesktopKeyMap</a></li>
<li><a href="#desktopmodes">5.3. DesktopModes</a></li>
<li><a href="#layout">5.4. Layout</a></li>
<li><a href="#layoutstrings">5.5. LayoutStrings</a></li>
<li><a href="#layouttarget">5.6. LayoutTarget</a></li>
<li><a href="#layouttargetandroid">5.7. LayoutTargetAndroid</a></li>
<li><a href="#layouttargetios">5.8. LayoutTargetIOS</a></li>
<li><a href="#layouttargetwindows">5.9. LayoutTargetWindows</a></li>
<li><a href="#mobilekeymap">5.10. MobileKeyMap</a></li>
<li><a href="#mobilemodes">5.11. MobileModes</a></li>
<li><a href="#modes">5.12. Modes</a></li>
<li><a href="#project">5.13. Project</a></li>
<li><a href="#projectbundle">5.14. ProjectBundle</a></li>
<li><a href="#projectdesc">5.15. ProjectDesc</a></li>
<li><a href="#targetandroid">5.16. TargetAndroid</a></li>
<li><a href="#targetchrome">5.17. TargetChrome</a></li>
<li><a href="#targetios">5.18. TargetIOS</a></li>
<li><a href="#targetmacos">5.19. TargetMacOS</a></li>
<li><a href="#targetmim">5.20. TargetMim</a></li>
<li><a href="#targetwindows">5.21. TargetWindows</a></li>
<li><a href="#targetx11">5.22. TargetX11</a></li>
<li><a href="#targets_2">5.23. Targets</a></li>
<li><a href="#yamlvalue">5.24. YamlValue</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<a href="https://github.com/divvun/kbdgen">
<img style="position: fixed; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png">
</a>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p><em>This documentation is currently under active development.</em></p>
</div>
<div class="paragraph">
<p>Please follow the warnings or errors that the <code>kbdgen</code> tool provides, and if something is missing from the documentation, please open
an issue on GitHub.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction_to_kbdgen_2_0_0_alpha_2"><a class="link" href="#introduction_to_kbdgen_2_0_0_alpha_2">1. Introduction to kbdgen 2.0.0-alpha.3</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="what_is_kbdgen"><a class="link" href="#what_is_kbdgen">1.1. What is kbdgen?</a></h3>
<div class="paragraph">
<p><a href="https://github.com/divvun/kbdgen"><code>kbdgen</code></a> is a tool for generating keyboards from layout descriptor files defined using YAML.</p>
</div>
<div class="paragraph">
<p>It requires Python 3.7 or higher.</p>
</div>
</div>
<div class="sect2">
<h3 id="supported_targets"><a class="link" href="#supported_targets">1.2. Supported targets</a></h3>
<div class="paragraph">
<p><code>kbdgen</code> supports both mobile and desktop keyboards, including a web-based visual layout
for development and debugging your layouts.</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
android
</td>
<td class="hdlist2">
<p>Android target, can be built on any OS</p>
</td>
</tr>
<tr>
<td class="hdlist1">
chrome
</td>
<td class="hdlist2">
<p>Chrome OS target, can be built on any OS</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ios
</td>
<td class="hdlist2">
<p>iOS target, can be built only on macOS</p>
</td>
</tr>
<tr>
<td class="hdlist1">
m17n
</td>
<td class="hdlist2">
<p>M17n target, can built on any OS</p>
</td>
</tr>
<tr>
<td class="hdlist1">
mac
</td>
<td class="hdlist2">
<p>macOS target, can be built only on macOS</p>
</td>
</tr>
<tr>
<td class="hdlist1">
svg
</td>
<td class="hdlist2">
<p>SVG target, for debugging and development using HTML and SVG, can be built on any OS</p>
</td>
</tr>
<tr>
<td class="hdlist1">
win
</td>
<td class="hdlist2">
<p>Windows 8.1+ target, can be built on any OS (but only code-signed on Windows)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
x11
</td>
<td class="hdlist2">
<p>X11 target, can be built on any OS</p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="anatomy_of_a_kbdgen_project"><a class="link" href="#anatomy_of_a_kbdgen_project">1.3. Anatomy of a kbdgen project</a></h3>
<div class="paragraph">
<p>A <code>kbdgen</code> project is structed as a bundle named <code>foo.kbdgen</code>, where <code>foo</code> is name of the bundle. It is highly recommended to name
the bundle after either a locale or a macrolanguage family in BCP 47 (ie "en-US", "sv", "sr-Cyrl", "smi", etc) format. While this
requirement is not enforced, it makes identifying the purpose of a bundle much easier.</p>
</div>
<div class="paragraph">
<p>Below is an exammple of the directory hierarchy of a bundle, with the example of the <code>smi</code> Sami macrolanguage family:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>smi.kbdgen
├── project.yaml
├── layouts
│   ├── se-NO.yaml
│   ⋮
├── resources
│   ├── android
│   ├── chrome
│   ├── ios
│   ├── mac
│   ├── win
│   ⋮
└── targets
    ├── android.yaml
    ├── chrome.yaml
    ├── ios.yaml
    ├── mac.yaml
    ├── win.yaml
    ⋮</code></pre>
</div>
</div>
<div class="paragraph">
<p>A <code>kbdgen</code> bundle is structured with a central <code>project.yaml</code> file defining the project descriptor, describing metadata
such as the name of the bundle in each supported locale, copyright information and authorship, and other metadata.</p>
</div>
<div class="paragraph">
<p>The <code>layouts</code> directory contains the layouts in a YAML format. Each file MUST be named in BCP 47 format. The specific requirements
are described per target in the sections below.</p>
</div>
<div class="paragraph">
<p>The <code>resources</code> directory contains target-specific resources, such as icons or documentation. The specific requirements are
described in the target-specific sections below.</p>
</div>
<div class="paragraph">
<p>The <code>targets</code> directory contains target-specific metadata such as current version and build number, and other metadata unique to the
given target.</p>
</div>
</div>
<div class="sect2">
<h3 id="usage"><a class="link" href="#usage">1.4. Usage</a></h3>
<div class="paragraph">
<p><code>kbdgen</code> is a command line application. Running <code>kbdgen --help</code> will provide you with the flags supported.</p>
</div>
<div class="paragraph">
<p>In general, to begin with you will likely want to just run <code>kbdgen -t &lt;target&gt; -o &lt;output-dir&gt; &lt;path/to/project.yaml&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Try with the <code>svg</code> target to get a feel for how it works.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="transitioning_from_kbdgen_1_x_to_2_x"><a class="link" href="#transitioning_from_kbdgen_1_x_to_2_x">2. Transitioning from kbdgen 1.x to 2.x</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="fundamental_differences_between_kbdgen_1_x_and_2_x"><a class="link" href="#fundamental_differences_between_kbdgen_1_x_and_2_x">2.1. Fundamental differences between kbdgen 1.x and 2.x:</a></h3>
<div class="ulist">
<ul>
<li>
<p>A directory layout is now enforced in the form of a project bundle (ie "foo.kbdgen/")</p>
</li>
<li>
<p>Layouts are no longer specified in the project.yaml, and are instead determined by a <code>layouts/</code> directory inside the bundle</p>
</li>
<li>
<p>Layouts no longer have an "internalName", and instead are designated by their locale</p>
</li>
<li>
<p>Layouts no longer require separate layout files for each platform, and are now only separated by locale distinctions</p>
</li>
<li>
<p>This means that you can have one layout file containing multiple targets, limiting duplication of such things as transforms and dead keys</p>
</li>
<li>
<p>The command line interface has been improved and made easier to understand</p>
</li>
<li>
<p>Each target has its own flags and help information</p>
</li>
<li>
<p>Target resources are now constrained to a <code>resources/</code> directory inside the project bundle</p>
</li>
<li>
<p>More helpful error messages when resources are missing</p>
</li>
<li>
<p>Improved support for iPad and the introduction of new modes for supporting these layouts</p>
</li>
<li>
<p>The introduction of the <code>m17n</code> and <code>chrome</code> targets</p>
</li>
<li>
<p>The inclusion of tools to simplify generating template projects from CLDR keyboard sources</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="converting_a_kbdgen_1_x_project_to_2_x"><a class="link" href="#converting_a_kbdgen_1_x_project_to_2_x">2.2. Converting a kbdgen 1.x project to 2.x</a></h3>
<div class="paragraph">
<p>This is a work in progress. For now, you may use the Node.js script in our GitHub repository.</p>
</div>
<div class="paragraph">
<p>There are some known issues with this script. Current known issues:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>TODO</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We intend to integrate a <code>convert</code> command to the kbdgen tool Soon™. If you wish to help port
this functionality to the Rust codebase, please let us know in this issue. TODO</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installation"><a class="link" href="#installation">3. Installation</a></h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Each target may have separate requirements for generating and building the output that <code>kbdgen</code> provides. Please check the Installation section of your desired target before proceeding.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It is recommended to use a prebuilt version of <code>kbdgen</code> where possible.</p>
</div>
<div class="sect2">
<h3 id="pre_built"><a class="link" href="#pre_built">3.1. Pre-built</a></h3>
<div class="sect3">
<h4 id="macos"><a class="link" href="#macos">3.1.1. macOS</a></h4>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect3">
<h4 id="linux"><a class="link" href="#linux">3.1.2. Linux</a></h4>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect3">
<h4 id="windows"><a class="link" href="#windows">3.1.3. Windows</a></h4>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="from_source"><a class="link" href="#from_source">3.2. From Source</a></h3>
<div class="paragraph">
<p>The same instructions apply for all operating systems where Rust is supported.</p>
</div>
<div class="paragraph">
<p>Install Rust from rustup.rs. Install <code>pyoxidizer</code> with cargo (<code>cargo install pyoxidizer</code>).</p>
</div>
<div class="paragraph">
<p>Then run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>pyoxidizer build --release</pre>
</div>
</div>
<div class="paragraph">
<p>Upon completion, the path to the generated self-contained executable will be printed.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="kbdgen_file_structure_overview"><a class="link" href="#kbdgen_file_structure_overview">4. kbdgen file structure overview</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="files"><a class="link" href="#files">4.1. Files</a></h3>
<div class="sect3">
<h4 id="projects"><a class="link" href="#projects">4.1.1. Projects</a></h4>
<div class="paragraph">
<p>Each <code>.kbdgen</code> bundle must contain a <code>project.yaml</code> file
that contains metadata necessary for generating the various target outputs.</p>
</div>
<div class="sect4">
<h5 id="example_project_descriptor_file"><a class="link" href="#example_project_descriptor_file">Example project descriptor file</a></h5>
<div class="paragraph">
<p>Below shows a typical and basic <code>project.yaml</code> that describes a project localised into
Norwegian Bokmål and English, with target-specific configuration for iOS and Android.</p>
</div>
<div class="listingblock">
<div class="title">Example of a basic project descriptor file</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="comment"># Strings for describing the project, using ISO 639-1 or 639-3 tags.</span>
<span class="key">locales</span>:
  <span class="key">en</span>:
    <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Keyboard Project</span><span class="delimiter">&quot;</span></span>
    <span class="key">description</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">A test keyboard</span><span class="delimiter">&quot;</span></span>
  <span class="key">nb</span>:
    <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Tastatur</span><span class="delimiter">&quot;</span></span>
    <span class="key">description</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Et testtastatur</span><span class="delimiter">&quot;</span></span>

<span class="comment"># Author and email properties</span>
<span class="key">author</span>: <span class="string"><span class="content">Example Person</span></span>
<span class="key">email</span>: <span class="string"><span class="content">person@place.example</span></span>

<span class="comment"># Optional organisation and copyright properties</span>
<span class="key">organisation</span>: <span class="string"><span class="content">Example Corp</span></span>
<span class="key">copyright</span>: <span class="string"><span class="content">Copyright © 2017 Example Corp</span></span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="supported_properties"><a class="link" href="#supported_properties">Supported properties</a></h5>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For a list of all supported properties of the project descriptor file, see <a href="#project">Project</a> in the reference section below.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="best_practices"><a class="link" href="#best_practices">Best practices</a></h5>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These best practices are a work-in-progress. If you have a suggestion, please submit an issue on GitHub.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="layouts"><a class="link" href="#layouts">4.1.2. Layouts</a></h4>
<div class="paragraph">
<p>Layouts are defined in YAML files
stored in the <code>layouts/</code> directory of the <code>.kbdgen</code> bundle.
Their name has to be in ISO 639-1 or 639-3 format
and will be used when generating outputs.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<strong>The layout file names SHOULD NOT change between versions!</strong>
If you change this, targets such as Android will display unexpected behaviour
when you update your keyboards.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="structure_of_a_layout_descriptor_file"><a class="link" href="#structure_of_a_layout_descriptor_file">Structure of a layout descriptor file</a></h5>
<div class="paragraph">
<p>Layout descriptors, like project descriptors, are defined using YAML.</p>
</div>
<div class="paragraph">
<p>At the highest level, a layout consists of several modes which define how the
layout should behave when different layers are enabled. There are distinct modes
for mobile and desktop keyboards, and the same layout file may incorporate
both modes if the user desires.</p>
</div>
<div class="paragraph">
<p>Keys and transform outputs may be multi-codepoint. Simply type the output you expect in
the descriptor and it will be generated correctly, as layout modes are space-delimited only.</p>
</div>
<div class="paragraph">
<p>If you wish to input a unicode codepoint that causes distortion to the layout descriptor,
you may use <code>\u{x}</code> notation, which is just the <code>U+xxxx</code> codepoint written as <code>\u{xxxx}</code>. The
Examples section shows this in use several times.</p>
</div>
</div>
<div class="sect4">
<h5 id="mobile_layouts"><a class="link" href="#mobile_layouts">Mobile layouts</a></h5>
<div class="paragraph">
<p>Mobile layouts consist of the modes <code>default</code> and <code>shift</code>. These modes
are currently used with the <code>android</code> and <code>ios</code> targets.</p>
</div>
<div class="paragraph">
<p>Mobile layouts support the <code>longpress</code> property, which defines a space-delimited set of characters
to be able to be selected by the user when they long press the defined key.</p>
</div>
<div class="paragraph">
<p>The <code>styles</code> property defines the behaviour of the special keys depending on the size and shape
of the device. <strong>At the moment this property is required.</strong> You may simply copy and paste this boilerplate
into your projects.</p>
</div>
<div class="paragraph">
<p>The <code>strings</code> property defines the strings to be shown on the spacebar and return keys. While these are not
strictly required, it is highly recommended that you set these before deploying into production for the best
user experience, particularly on iOS.</p>
</div>
</div>
<div class="sect4">
<h5 id="desktop_layouts"><a class="link" href="#desktop_layouts">Desktop layouts</a></h5>
<div class="paragraph">
<p>A desktop layout consists of keys for each mode, and uses dead key definitions (using <code>deadKeys</code>) and a transforms map
(<code>transforms</code>) for defining key sequences to output specific glyphs. Transforms may be infinitely nested in this format,
it is up to the platform to determine how many levels of nesting are considered reasonable.</p>
</div>
<div class="sect5">
<h6 id="desktop_modes"><a class="link" href="#desktop_modes">Desktop modes</a></h6>
<div class="paragraph">
<p>Modes are defined as a space-delimited and newline-delimited set of characters for use as keys
on a keyboard. The expected keyboard layout is the ISO standard keyboard (not the ANSI US keyboard,
which has one less key).</p>
</div>
<div class="listingblock">
<div class="title">Example of a desktop mode key map</div>
<div class="content">
<pre class="CodeRay highlight"><code>§ 1 2 3 4 5 6 7 8 9 0 + ´
  á w e r t y u i o p å ŋ
  a s d f g h j k l ö ä '
&lt; z x c v b n m , . -</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./keyboard.svg" alt="keyboard">
</div>
<div class="title">Figure 1. The ISO standard keyboard layout showing potential variations in colour</div>
</div>
<div class="paragraph">
<p><code>kbdgen</code> supports E00–E12, D01–D12, C01–C12, and B00–10 as per traditional European ISO standard keyboards. In practice, for ANSI keyboards,
C12 moves to D13, and B00 is simply dropped altogether. B11 is not used on any modern keyboard, and E13 is largely ignored.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
If you forget to add the <code>|</code> symbol after the mode key, you will encounter some fun parsing errors.
Don&#8217;t forget the pipe!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Desktop layouts consist of several modes due to the complexity of desktop keyboards:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>default</code></p>
</li>
<li>
<p><code>shift</code></p>
</li>
<li>
<p><code>caps</code></p>
</li>
<li>
<p><code>caps+shift</code></p>
</li>
<li>
<p><code>alt</code></p>
</li>
<li>
<p><code>alt+shift</code></p>
</li>
<li>
<p><code>caps+alt</code></p>
</li>
<li>
<p><code>ctrl</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are also a few target-specific modes for macOS due to the addition of the Command key on macOS
keyboards:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>cmd</code></p>
</li>
<li>
<p><code>cmd+shift</code></p>
</li>
<li>
<p><code>cmd+alt</code></p>
</li>
<li>
<p><code>cmd+alt+shift</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is possible that further modes may be supported in the future if necessary.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For a list of all supported properties of layouts, see <a href="#layout">Layout</a> in the reference section below.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect4">
<h5 id="examples"><a class="link" href="#examples">Examples</a></h5>
<div class="listingblock">
<div class="title">Mobile layout example (Android)</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">displayNames</span>:
  <span class="key">crk</span>: <span class="string"><span class="content">nēhiyawēwin</span></span>
  <span class="key">en</span>: <span class="string"><span class="content">Plains Cree</span></span>
<span class="key">decimal</span>: <span class="string"><span class="content">','</span></span>
<span class="key">modes</span>:
  <span class="key">android</span>:
    <span class="key">default</span>: <span class="string"><span class="delimiter">|</span><span class="content">
      q w e r t y u i o p
      a s d f g h j k l ˆ
        z x c v b n m w</span></span>
    <span class="key">shift</span>: <span class="string"><span class="delimiter">|</span><span class="content">
      Q W E R T Y U I O P
      A S D F G H J K L ˆ
        Z X C V B N M W</span></span>
<span class="key">longpress</span>:
  <span class="key">Á</span>: <span class="string"><span class="content">Q</span></span>
  <span class="key">A</span>: <span class="string"><span class="content">Æ Ä Å</span></span>
  <span class="key">Č</span>: <span class="string"><span class="content">X</span></span>
  <span class="key">O</span>: <span class="string"><span class="content">Ø Ö</span></span>
  <span class="key">á</span>: <span class="string"><span class="content">q</span></span>
  <span class="key">a</span>: <span class="string"><span class="content">æ ä å</span></span>
  <span class="key">č</span>: <span class="string"><span class="content">x</span></span>
  <span class="key">o</span>: <span class="string"><span class="content">ø ö</span></span>
<span class="key">strings</span>:
  <span class="key">space</span>: <span class="string"><span class="content">ayakaskâw</span></span>
  <span class="key">return</span>: <span class="string"><span class="content">askoc</span></span>
<span class="key">targets</span>:
  <span class="key">android</span>:
    <span class="key">legacyName</span>: <span class="string"><span class="content">crk</span></span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Windows desktop layout example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">displayNames</span>:
  <span class="key">sma</span>: <span class="string"><span class="content">Åarjelsaemien gïele (Nöörje)</span></span>
  <span class="key">en</span>: <span class="string"><span class="content">South Sami (Norway)</span></span>

<span class="key">modes</span>:
  <span class="key">win</span>:
    <span class="key">default</span>: <span class="string"><span class="delimiter">|</span><span class="content">
      | 1 2 3 4 5 6 7 8 9 0 + \
        q w e r t y u i o p å ï
        a s d f g h j k l ö æ '
      &lt; z x c v b n m , . -</span></span>
    <span class="key">shift</span>: <span class="string"><span class="delimiter">|</span><span class="content">
      § ! &quot; # ¤ % &amp; / ( ) = ? `
        Q W E R T Y U I O P Å Ï
        A S D F G H J K L Ö Æ *
      &gt; Z X C V B N M ; : _</span></span>
    <span class="key">caps</span>: <span class="string"><span class="delimiter">|</span><span class="content">
      | 1 2 3 4 5 6 7 8 9 0 + \
        Q W E R T Y U I O P Å Ï
        A S D F G H J K L Ö Æ '
      &lt; Z X C V B N M , . -</span></span>
    <span class="error">caps+shift</span>: <span class="error">|</span>
      <span class="error">§ ! &quot; # ¤ % &amp; / ( ) = ? `</span>
        <span class="error">q w e r t y u i o p å ï</span>
        <span class="error">a s d f g h j k l ö æ *</span>
      <span class="error">&gt; z x c v b n m ; : _</span>
    <span class="key">alt</span>: <span class="string"><span class="delimiter">|</span><span class="content">
      \u{0} \u{0} @     £  $     € \u{0} {     [     ]     }     \u{0} ´
            â     \u{0} €  \u{0} ŧ \u{0} \u{0} ï     õ     \u{0} \u{0} ¨
            á     š     đ  ǥ     ǧ ȟ     \u{0} ǩ     \u{0} ø     ä     ~
      \u{0} ž     \u{0} č  ǯ     ʒ ŋ     µ     \u{0} \u{0} \u{0}</span></span>
    <span class="error">alt+shift</span>: <span class="error">|</span>
      <span class="error">\u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0}</span>
            <span class="error">Â     \u{0} \u{0} \u{0} Ŧ     \u{0} \u{0} Ï     Õ     \u{0} \u{0} \u{0}</span>
            <span class="error">Á     Š     Đ     Ǥ     Ǧ     Ȟ     \u{0} Ǩ     \u{0} Ø     Ä     ^</span>
      <span class="error">\u{0} Ž     \u{0} Č     Ǯ     Ʒ     Ŋ     \u{0} \u{0} \u{0} \u{0}</span>
    <span class="key">ctrl</span>: <span class="string"><span class="delimiter">|</span><span class="content">
      \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0}
      \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0}
      \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{</span></span>
<span class="key">transforms</span>:
  <span class="key"><span class="delimiter">'</span><span class="content">\u{A0}\u{330}</span><span class="delimiter">'</span></span>:
    <span class="key"><span class="delimiter">'</span><span class="content"> </span><span class="delimiter">'</span></span>: <span class="string"><span class="content">'\u{A0}\u{330}'</span></span>
    <span class="key">e</span>: <span class="string"><span class="content">ḛ</span></span>
    <span class="key">E</span>: <span class="string"><span class="content">Ḛ</span></span>
    <span class="key">i</span>: <span class="string"><span class="content">ḭ</span></span>
    <span class="key">I</span>: <span class="string"><span class="content">Ḭ</span></span>
    <span class="key">u</span>: <span class="string"><span class="content">ṵ</span></span>
    <span class="key">U</span>: <span class="string"><span class="content">Ṵ</span></span>
    <span class="comment"># ...</span>
<span class="key">deadKeys</span>:
  <span class="key">win</span>:
    <span class="key">shift</span>: <span class="string"><span class="content">['`']</span></span>
    <span class="error">caps+shift</span>: [<span class="error">'`']</span>
    <span class="key">alt</span>: <span class="string"><span class="content">[¨, '~', ´]</span></span>
    <span class="error">alt+shift</span>: [<span class="error">^]</span>
<span class="key">targets</span>:
  <span class="key">win</span>:
    <span class="key">locale</span>: <span class="string"><span class="content">sma-Latn-NO</span></span>
    <span class="key">languageName</span>: <span class="string"><span class="content">Åarjelsaemien gïele (Nöörje)</span></span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">macOS desktop layout example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">displayNames</span>:
  <span class="key">sma</span>: <span class="string"><span class="content">Åarjelsaemien gïele (Nöörje)</span></span>
  <span class="key">en</span>: <span class="string"><span class="content">South Sami (Norway)</span></span>
<span class="key">modes</span>:
  <span class="key">mac</span>:
    <span class="key">default</span>: <span class="string"><span class="delimiter">|</span><span class="content">
      ' 1 2 3 4 5 6 7 8 9 0 + ´
        q w e r t y u i o p å ï
        a s d f g h j k l ö æ @
      &lt; z x c v b n m , . -</span></span>
    <span class="key">shift</span>: <span class="string"><span class="delimiter">|</span><span class="content">
      § ! &quot; # $ % &amp; / ( ) = ? `
        Q W E R T Y U I O P Å Ï
        A S D F G H J K L Ö Æ *
      &gt; Z X C V B N M ; : _</span></span>
    <span class="key">caps</span>: <span class="string"><span class="delimiter">|</span><span class="content">
      ' 1 2 3 4 5 6 7 8 9 0 + ´
        Q W E R T Y U I O P Å Ï
        A S D F G H J K L Ö Æ @
      &lt; Z X C V B N M , . -</span></span>
    <span class="key">alt</span>: <span class="string"><span class="delimiter">|</span><span class="content">
      ' © ™ £ € ‸ § |             [ ] ˝ ± \u{301}
        • , é ˇ þ ˘ ˀ             ʼ œ ˙ ˚ ¨
        ¯ ß ð ƒ . ˛ \u{A0}\u{330} ˜ - ø ä '
      ≤ ÷ ˍ ¸ ‹ › ‘ ’             ‚ … –</span></span>
    <span class="error">alt+shift</span>: <span class="error">|</span>
      <span class="error">§ ¡       ®       ¥       ¢       \u{32D} ¶       \       {       }       \u{30B} ¿       \u{300}</span>
        <span class="error">°       \u{326} É       \u{30C} Þ       \u{306} \u{309} \u{31B} Œ       \u{307} \u{30A} ˆ</span>
        <span class="error">\u{304} №       Ð       ʔ       \u{323} \u{328} \u{330} \u{303} \u{335} Ø       Ä       &quot;</span>
      <span class="error">≥ ⁄       \u{331} \u{327} «       »       “       ”       „       ·       —</span>
    <span class="error">caps+alt</span>: <span class="error">|</span>
      <span class="error">' © ™ £ € ‸ § | [ ] ˝ ± \u{301}</span>
        <span class="error">• , É ˇ Þ ˘ ˀ ʼ Œ ˙ ˚ ¨</span>
        <span class="error">¯ SS Ð ƒ . ˛ \u{A0}\u{330} ˜ - Ø Ä '</span>
      <span class="error">≤ ÷ ˍ ¸ ‹ › ‘ ’ ‚ … –</span>
    <span class="key">ctrl</span>: <span class="string"><span class="delimiter">|</span><span class="content">
      ` 1 2 3 4 5 6 7 8 9 0 \u{1F} =
        \u{11} \u{17} \u{5} \u{12} \u{14} \u{19} \u{15} \u{9} \u{F} \u{10} \u{1D} ~
        \u{1} \u{13} \u{4} \u{6} \u{7} \u{8} \u{A} \u{B} \u{C} ; ' \u{1C}
      0 \u{1A} \u{18} \u{3} \u{16} \u{2} \u{E} \u{D} , . /</span></span>
<span class="key">transforms</span>:
  <span class="key"><span class="delimiter">'</span><span class="content">\u{A0}\u{330}</span><span class="delimiter">'</span></span>:
    <span class="key"><span class="delimiter">'</span><span class="content"> </span><span class="delimiter">'</span></span>: <span class="string"><span class="content">'\u{A0}\u{330}'</span></span>
    <span class="key">e</span>: <span class="string"><span class="content">ḛ</span></span>
    <span class="key">E</span>: <span class="string"><span class="content">Ḛ</span></span>
    <span class="key">i</span>: <span class="string"><span class="content">ḭ</span></span>
    <span class="key">I</span>: <span class="string"><span class="content">Ḭ</span></span>
    <span class="key">u</span>: <span class="string"><span class="content">ṵ</span></span>
    <span class="comment"># ...</span>
<span class="key">space</span>:
  <span class="key">mac</span>:
    <span class="key">caps</span>: <span class="string"><span class="content">'\u{A0}'</span></span>
    <span class="key">alt</span>: <span class="string"><span class="content">'\u{A0}'</span></span>
    <span class="error">alt+shift</span>: <span class="error">'\u{A0}'</span>
    <span class="error">caps+alt</span>: <span class="error">'\u{A0}'</span>
    <span class="error">cmd+alt</span>: <span class="error">'\u{A0}'</span>
<span class="key">deadKeys</span>:
  <span class="key">mac</span>:
    <span class="key">default</span>: <span class="string"><span class="content">[´]</span></span>
    <span class="key">shift</span>: <span class="string"><span class="content">['`']</span></span>
    <span class="key">caps</span>: <span class="string"><span class="content">[´]</span></span>
    <span class="key">alt</span>: <span class="string"><span class="content">[¨, ',', '-', ., ¯, ¸, ʼ, ˀ, ˇ, ˍ, ˘, ˙, ˚, ˛, ˜, ˝, ‸, '\u{A0}\u{330}']</span></span>
    <span class="error">alt+shift</span>: [<span class="error">ʔ, №, ˆ]</span>
    <span class="error">caps+alt</span>: [<span class="error">¨, ',', '-', ., ¯, ¸, ʼ, ˀ, ˇ, ˍ, ˘, ˙, ˚, ˛, ˜, ˝, ‸]</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="best_practices_2"><a class="link" href="#best_practices_2">Best practices</a></h5>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These best practices are a work-in-progress. If you have a suggestion, please submit an issue on GitHub.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As you can see from the examples, in some cases, macOS and Windows keyboards diverge significantly enough that
two separate layouts are defined. While it is still possible to generate a macOS and Windows keyboard from the
same source, consider user expectations when decided whether or not to split the layouts into separate files.</p>
</div>
</div>
<div class="sect4">
<h5 id="generating_layouts_from_cldr_with_cldr2kbdgen"><a class="link" href="#generating_layouts_from_cldr_with_cldr2kbdgen">Generating layouts from CLDR with cldr2kbdgen</a></h5>
<div class="paragraph">
<p><code>kbdgen</code> includes a tool called <code>cldr2kbdgen</code>, which will convert a CLDR keyboard XML descriptor
into a fully functional <code>kbdgen</code> layout.</p>
</div>
<div class="paragraph">
<p>You can acquire a CLDR keyboard repository from the <a href="http://cldr.unicode.org/index/downloads">Unicode</a> website.
Choose the latest from the Data column, then select the <code>cldr-keyboards-x.y.z.zip</code> file.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
If converting a macOS keyboard and the E00 (top left) and B00 (bottom left) keys are flipped, this is a known
issue with some CLDR definitions. Add the <code>--osx</code> flag to the <code>cldr2kbdgen</code> command and it will auto-flip them back.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Usage is straightforward: <code>cldr2kbdgen &lt;cldr-xml&gt; &lt;path/to/layout.yaml&gt;</code></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="targets"><a class="link" href="#targets">4.2. Targets</a></h3>
<div class="paragraph">
<p>This sections describes the targets currently supported by kbdgen.
Targets can be configured in multiple ways,
for example</p>
</div>
<div class="ulist">
<ul>
<li>
<p>using a <code>targets/&lt;name&gt;.yaml</code> file,</p>
</li>
<li>
<p>using target-specific settings in a layout&#8217;s <code>targets</code> property,</p>
</li>
<li>
<p>or using target-specific layout modes.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="android"><a class="link" href="#android">4.2.1. Android</a></h4>
<div class="paragraph">
<p>The Android target uses a fork of the Android Open Source Project&#8217;s <code>LatinIME</code>
codebase to generate a custom keyboard for Android with the look and feel of the
native keyboard.</p>
</div>
<div class="sect4">
<h5 id="requirements"><a class="link" href="#requirements">Requirements</a></h5>
<div class="paragraph">
<p>Due to the complexity and number of dependencies necessary to successfully build an
Android keyboard, we only support using our custom-built Docker image which includes
all the Rust and Android build tools and dependencies necessary to deliver a functioning
keyboard.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="console">docker pull divvun/kbdgen-android</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="project_level_configuration_and_properties"><a class="link" href="#project_level_configuration_and_properties">Project-level configuration and properties</a></h5>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For a list of all supported properties of the Android target files, see <a href="#targetandroid">TargetAndroid</a> in the reference section below.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">A full example of the targets section for Android</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">packageId</span>: <span class="string"><span class="content">com.example.mykeyboard</span></span>
<span class="key">keyStore</span>: <span class="string"><span class="content">/secret/dir/safe.keystore</span></span>
<span class="key">keyAlias</span>: <span class="string"><span class="content">fancy_keyboard</span></span>
<span class="key">version</span>: <span class="string"><span class="content">0.1.0</span></span>
<span class="key">build</span>: <span class="string"><span class="content">1</span></span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="layout_level_configuration_and_properties"><a class="link" href="#layout_level_configuration_and_properties">Layout-level configuration and properties</a></h5>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
See <a href="#layouttargetandroid">LayoutTargetAndroid</a> in the reference section below.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="testing"><a class="link" href="#testing">Testing</a></h5>
<div class="sect5">
<h6 id="testing_on_a_device"><a class="link" href="#testing_on_a_device">Testing on a device</a></h6>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Different versions of Android have different requirements for enabling
Developer Mode. Use a search engine to find out how to enable USB debugging
for your specific device before continuing.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Connecting an Android device for debugging</div>
<ol class="arabic">
<li>
<p>Connect your Android device to your system</p>
</li>
<li>
<p>Run <code>$ANDROID_HOME/platform-tools/adb install -r &lt;path to apk&gt;</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If you receive an error about the package already being installed or signatures
not matching, uninstall the package from the device first.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="generating_keystores"><a class="link" href="#generating_keystores">Generating keystores</a></h5>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Use ASCII characters only for your password if you value your sanity.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Make sure you&#8217;ve read the
<a href="http://developer.android.com/tools/publishing/app-signing.html">"Signing Your Applications"</a>
page from the Android Developers website.</p>
</div>
<div class="paragraph">
<p>It is recommended that you use 4096-bit keys, and name the keystore and
alias your key with the internal name of your project.</p>
</div>
<div class="paragraph">
<p>For example, if my project name was "sami_keyboard", and I wanted the key to
last for 10000 days, I would run the following command:</p>
</div>
<div class="paragraph">
<p><code>keytool -genkey -v -keystore sami_keyboard.keystore -alias sami_keyboard -keyalg RSA -keysize 4096 -validity 10000</code></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Make sure you keep your key safe! Don&#8217;t publish it to git or svn.</strong></p>
</div>
</td>
</tr>
</table>
</div>
<div class="quoteblock">
<div class="title">The warning straight from the Android website says:</div>
<blockquote>
<div class="paragraph">
<p>Warning: Keep your keystore and private key in a safe and secure place,
and ensure that you have secure backups of them. If you publish an app to
Google Play and then lose the key with which you signed your app, you will
not be able to publish any updates to your app, since you must always sign
all versions of your app with the same key.</p>
</div>
</blockquote>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ios"><a class="link" href="#ios">4.2.2. iOS</a></h4>
<div class="paragraph">
<p>The iOS target uses a fork of the <a href="https://github.com/archagon/tasty-imitation-keyboard"><code>tasty-imitation-keyboard</code></a>
project to generate a custom keyboard for iOS with the look and feel of the
native keyboard.</p>
</div>
<div class="paragraph">
<p>The target will automatically download the <a href="https://github.com/divvun/giellakbd-ios"><code>giellakbd-ios</code></a>
dependency and cache it for future builds. The cache will automatically be invalidated upon
an update to the repository.</p>
</div>
<div class="sect4">
<h5 id="requirements_2"><a class="link" href="#requirements_2">Requirements</a></h5>
<div class="paragraph">
<p>You will need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Xcode</p>
</li>
<li>
<p>Rust</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Run the following:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>rustup target add aarch64-apple-ios
rustup target add armv7-apple-ios
rustup target add i386-apple-ios
rustup target add x86_64-apple-ios
cargo install cargo-lipo</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="project_level_configuration_and_properties_2"><a class="link" href="#project_level_configuration_and_properties_2">Project-level configuration and properties</a></h5>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For a list of all supported properties of the iOS target files, see <a href="#targetios">TargetIOS</a> in the reference section below.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example of the targets section for iOS</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">codeSignId</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">iPhone Distribution: The University of Tromso (666000999)</span><span class="delimiter">&quot;</span></span>
<span class="key">provisioningProfileId</span>: <span class="string"><span class="content">Test</span></span>
<span class="key">packageId</span>: <span class="string"><span class="content">com.example.mypackageid</span></span>
<span class="key">bundleName</span>: <span class="string"><span class="content">New Fancy Keyboards</span></span>
<span class="key">version</span>: <span class="string"><span class="content">0.1.0</span></span>
<span class="key">build</span>: <span class="string"><span class="content">1</span></span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="layout_level_configuration_and_properties_2"><a class="link" href="#layout_level_configuration_and_properties_2">Layout-level configuration and properties</a></h5>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
See <a href="#layouttargetios">LayoutTargetIOS</a> in the reference section below.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example of the layout-level targets section for iOS</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">targets</span>:
  <span class="key">ios</span>:
    <span class="key">legacyName</span>: <span class="string"><span class="content">northern_sami_keyboa</span></span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="testing_2"><a class="link" href="#testing_2">Testing</a></h5>
<div class="sect5">
<h6 id="testing_in_a_simulator"><a class="link" href="#testing_in_a_simulator">Testing in a simulator</a></h6>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The simulator does not always fully replicate the behaviour that a user will
experience when using keyboards on a real device.</p>
</div>
<div class="paragraph">
<p>This is especially the case regarding when and where a keyboard can be used in
the simulator.</p>
</div>
<div class="paragraph">
<p>The best app for testing keyboards in the simulator is the <code>Calendar</code> app. It offers
a consistent experience and does not often cause obscure and unreproducable issues
when compared with other simulator apps.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To begin testing in the simulator is straightforward. Open the path provided by
<code>kbdgen</code> after a completed build in Xcode, choose a simulator device from the dropdown
in the main toolbar, and press the "Play" button.</p>
</div>
<div class="paragraph">
<p>Follow the instructions in the provided hosting app to enable the keyboards.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="macos_2"><a class="link" href="#macos_2">4.2.3. macOS</a></h4>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
This section is incomplete.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>osx</code> target generates a <code>.pkg</code> file, optionally codesigned, that installs a series of <code>.keylayout</code> files for each layout provided in the project.</p>
</div>
<div class="paragraph">
<p>To sign the package, specify the <code>-R</code> flag while building.</p>
</div>
<div class="sect4">
<h5 id="requirements_3"><a class="link" href="#requirements_3">Requirements</a></h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This target can only be generated on a macOS system.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You need to install:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ImageMagick</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="project_level_configuration_and_properties_3"><a class="link" href="#project_level_configuration_and_properties_3">Project-level configuration and properties</a></h5>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For a list of all supported properties of the iOS target files, see <a href="#targetmacos">TargetMacOS</a> in the reference section below.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">codeSignId</span>: <span class="string"><span class="content">'Developer ID Installer: The University of Tromso (666000999)'</span></span>
<span class="key">provisioningProfileId</span>: <span class="string"><span class="content">Test</span></span>
<span class="key">packageId</span>: <span class="string"><span class="content">com.example.mypackageid</span></span>
<span class="key">bundleName</span>: <span class="string"><span class="content">New Fancy Keyboards</span></span>
<span class="key">icon</span>: <span class="string"><span class="content">images/icon.png</span></span>
<span class="key">version</span>: <span class="string"><span class="content">1.0.4</span></span>
<span class="key">build</span>: <span class="string"><span class="content">1</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>icon</code> will be converted into an <code>.icns</code> file.</p>
</div>
<div class="paragraph">
<p><code>codeSignId</code> must be for a macOS installer distribution certificate, generated by the Team Agent.</p>
</div>
<div class="paragraph">
<p>Resources can be localised. Place readme, welcome, license and conclusion files into <code>zz.lproj</code> directories inside the resources directory, where <code>zz</code> represents a supported language code. Place the background image into the root of the resources directory.</p>
</div>
</div>
<div class="sect4">
<h5 id="layout_level_configuration_and_properties_3"><a class="link" href="#layout_level_configuration_and_properties_3">Layout-level configuration and properties</a></h5>
<div class="paragraph">
<p>The macOS target supports a few custom modes to facilitate the differences between macOS keyboards and others. Particularly, the <code>cmd</code> key is macOS specific.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="svg"><a class="link" href="#svg">4.2.4. SVG</a></h4>
<div class="paragraph">
<p>This target exists for the purpose of visualising and debugging keyboard layouts
during development. An HTML index file is generated, including all SVGs necessary
to demonstrate the project.</p>
</div>
<div class="paragraph">
<p>The SVGs show each mode, and the corresponding ISO key code for the mapping. This is
especially useful for correcting missing key errors.</p>
</div>
</div>
<div class="sect3">
<h4 id="windows_2"><a class="link" href="#windows_2">4.2.5. Windows</a></h4>
<div class="sect4">
<h5 id="project_level_configuration_and_properties_4"><a class="link" href="#project_level_configuration_and_properties_4">Project-level configuration and properties</a></h5>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For a list of all supported properties of the Android target files, see <a href="#targetwindows">TargetWindows</a> in the reference section below.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">A full example of the targets section for Android</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">appName</span>: <span class="string"><span class="content">New Fancy Keyboards</span></span>
<span class="key">version</span>: <span class="string"><span class="content">1.0.2</span></span>
<span class="key">url</span>: <span class="string"><span class="content">'http://divvun.no'</span></span>
<span class="key">uuid</span>: <span class="string"><span class="content">197FF21D-E48C-4FE8-9DF0-FB894A491C10</span></span>
<span class="key">build</span>: <span class="string"><span class="content">1</span></span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="layout_level_configuration_and_properties_4"><a class="link" href="#layout_level_configuration_and_properties_4">Layout-level configuration and properties</a></h5>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
See <a href="#layouttargetwindows">LayoutTargetWindows</a> in the reference section below.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example of the layout-level targets section for Chrome</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">targets</span>:
  <span class="key">win</span>:
    <span class="key">locale</span>: <span class="string"><span class="content">smj-Latn-SE</span></span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="preparing_build_environment"><a class="link" href="#preparing_build_environment">Preparing build environment</a></h5>
<div class="sect5">
<h6 id="building_the_windows_target_on_unix_like_operating_systems"><a class="link" href="#building_the_windows_target_on_unix_like_operating_systems">Building the Windows target on Unix-like operating systems</a></h6>
<div class="paragraph">
<p>You will need to install:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>wine</p>
</li>
<li>
<p>winetricks</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
You will need to use wine in 32-bit mode. If you are concerned or unsure, just set WINEARCH="win32" in your environment before beginning.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Run <code>wine</code> at least once to generate a wine prefix.</p>
</div>
<div class="paragraph">
<p>Run <code>winetricks -q dotnet20</code> to install .NET Framework 2.0, required by the keyboard layout creator tools.</p>
</div>
<div class="paragraph">
<p>Download and install the following dependencies into your wine prefix:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.jrsoftware.org/download.php/is-unicode.exe">Inno Setup 5 (Unicode)</a></p>
</li>
<li>
<p><a href="https://download.microsoft.com/download/1/1/8/118aedd2-152c-453f-bac9-5dd8fb310870/MSKLC.exe">Microsoft Keyboard Layout Creator</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Now when you generate the release version of the <code>win</code> target, an installer will be generated that is fully compatible with Windows systems.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="limitations"><a class="link" href="#limitations">Limitations</a></h5>
<div class="ulist">
<ul>
<li>
<p>Windows does not support Unicode glyphbombs ("grapheme clusters") in deadkeys,
but does support them as ordinary keys.</p>
</li>
<li>
<p>Using <code>iso-caps</code> and <code>iso-caps+shift</code> with Windows is limited to single
codepoints, as the glyphbomb limitation also applies here.</p>
</li>
<li>
<p>Windows keyboard identifiers must be unique, are 8 characters long and
begin with <code>kbd</code>. The next 5 characters are generated from the next 5
alphanumeric characters of the keyboard&#8217;s <code>internalName</code>. For example, if
the <code>internalName</code> of a keyboard is <code>se-1-foo</code>, the internal keyboard name
for Windows will be <code>kbdse1fo</code>.</p>
</li>
<li>
<p>If a keyboard is generated with erroneous data, MSKLC does not provide any
useful error information and merely complains that there was an error and
the file cannot be opened. Please report these files as bugs on GitHub for
investigation.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="mappings_between_modes_in_layout_files_and_windows_keyboards"><a class="link" href="#mappings_between_modes_in_layout_files_and_windows_keyboards">Mappings between modes in layout files and Windows keyboards</a></h5>
<div class="dlist">
<div class="title">Mappings from kbdgen modes to Windows keyboards</div>
<dl>
<dt class="hdlist1">iso-default</dt>
<dd>
<p>Base keyboard</p>
</dd>
<dt class="hdlist1">iso-shift</dt>
<dd>
<p>Shift pressed</p>
</dd>
<dt class="hdlist1">iso-alt</dt>
<dd>
<p>AltGr (or Ctrl+Alt if keyboard missing AltGr) pressed</p>
</dd>
<dt class="hdlist1">iso-alt+shift</dt>
<dd>
<p>AltGr plus shift</p>
</dd>
<dt class="hdlist1">iso-caps+alt</dt>
<dd>
<p>AltGr plus caps lock</p>
</dd>
<dt class="hdlist1">iso-ctrl</dt>
<dd>
<p>Ctrl pressed (mostly will not work due to OS-level key combinations overriding this layer)</p>
</dd>
</dl>
</div>
<div class="dlist">
<div class="title">Special cased mappings</div>
<dl>
<dt class="hdlist1">iso-caps</dt>
<dd>
<p>Caps lock enabled</p>
</dd>
<dt class="hdlist1">iso-caps+shift</dt>
<dd>
<p>Caps lock and shift pressed</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If both of the above modes are found, the limitation regarding single codepoints described in the Limitations section applies.</p>
</div>
<div class="paragraph">
<p>Any other modes are ignored by this target.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="x11"><a class="link" href="#x11">4.2.6. X11</a></h4>
<div class="paragraph">
<p>The <code>x11</code> target outputs an X11-compatible xkb file.
This is the default mechanism for processing key codes and handling multiple keyboard layouts.
(Despite its name, it is also used on Wayland.)</p>
</div>
<div class="sect4">
<h5 id="project_level_configuration_and_properties_5"><a class="link" href="#project_level_configuration_and_properties_5">Project-level configuration and properties</a></h5>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For a list of all supported properties of the Android target files, see <a href="#targetx11">TargetX11</a> in the reference section below.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="layout_level_configuration_and_properties_5"><a class="link" href="#layout_level_configuration_and_properties_5">Layout-level configuration and properties</a></h5>
<div class="paragraph">
<p>Currently none.</p>
</div>
</div>
<div class="sect4">
<h5 id="how_to_install_a_new_locale_on_x11"><a class="link" href="#how_to_install_a_new_locale_on_x11">How to install a new locale on X11</a></h5>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
The X11 output should be considered experimental. It requires modifying global X11 files, and might eat your cat.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install files system-wide by copying them into <code>/usr/share/X11/xkb/symbols</code></p>
</li>
<li>
<p>If you are installing a new locale, it needs to be added to "rules set"
which is what configuration tools use to pick up which locales are available.</p>
<div class="paragraph">
<p>These files can be found in <code>/usr/share/X11/xkb/rules/</code>,
but sadly, this is quite the exercise, as the files are supposed to be auto-generated.
For testing purposes,
editing the <code>layoutList</code> section of <code>evdev.xml</code> manually
(by duplicating an existing section)
should be fine.
The <code>configItem/name</code> should be same as the file name,
and <code>variantList</code> should have a <code>variant</code> where the <code>configItem/name</code>
is the name of the <code>xkb_symbols</code> block.</p>
</div>
</li>
<li>
<p>Clear the xkb cache,
either by running <code>sudo rm /var/lib/xkb/*.xkm</code>,
or (on Debian systems) <code>sudo dpkg-reconfigure xkb-data</code></p>
</li>
<li>
<p>Add the locale to your set of available ones
using Gnome Settings or a similar tool.
Use the "Show Keyboard Layout" button to preview the layout.
You might need to log out and in again for the new settings to apply correctly.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="further_reading_material"><a class="link" href="#further_reading_material">Further reading material</a></h5>
<div class="ulist">
<ul>
<li>
<p><a href="https://wiki.archlinux.org/index.php/X_keyboard_extension:">This page</a> from the Arch Linux wiki contains a good overview of how XKB works and is used on Linux</p>
</li>
<li>
<p>Daniel Jozsef wrote <a href="https://medium.com/@daniel.jozsef/the-bazaar-with-landmines-or-how-to-extend-xkb-the-right-way-b82de59a1f9a">a post</a> with a detailed description on how one can install new locales on X11</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="m17n"><a class="link" href="#m17n">4.2.7. M17n</a></h4>
<div class="paragraph">
<p><a href="https://www.nongnu.org/m17n/">m17n</a>
refers to project for enhanced multilingualization on Linux.
The output target generates <code>.mim</code> files,
which are used as configuration files for
<a href="https://en.wikipedia.org/wiki/Intelligent_Input_Bus">IBUS</a>.</p>
</div>
<div class="sect4">
<h5 id="project_level_configuration_and_properties_6"><a class="link" href="#project_level_configuration_and_properties_6">Project-level configuration and properties</a></h5>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For a list of all supported properties of the Android target files, see <a href="#targetx11">TargetX11</a> in the reference section below.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="layout_level_configuration_and_properties_6"><a class="link" href="#layout_level_configuration_and_properties_6">Layout-level configuration and properties</a></h5>
<div class="paragraph">
<p>Currently none.</p>
</div>
</div>
<div class="sect4">
<h5 id="how_to_install_a_new_locale_on_x11_2"><a class="link" href="#how_to_install_a_new_locale_on_x11_2">How to install a new locale on X11</a></h5>
<div class="paragraph">
<p>Assumes Ubuntu 18.04.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Make sure Gnome settings app is not open</p>
</li>
<li>
<p>Copy the new <code>.mim</code> file(s) to either <code>~/.m17n.d/</code> (user local) or <code>/usr/share/m17n/</code> (global)</p>
</li>
<li>
<p>Make sure they have the correct permissions set,
i.e. <code>644</code> like the other files</p>
</li>
<li>
<p>restart all IBus daemons (according to <a href="https://askubuntu.com/a/656243">this question</a>),
e.g. using <code>pgrep ibus | xargs kill</code></p>
</li>
<li>
<p>Open Gnome settings</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Go to "Region &amp; Language"</p>
</li>
<li>
<p>Under "Input Sources", press the "+" button</p>
</li>
<li>
<p>In the modal window, select your newly added language variant.
Note that it might be grouped by the main language,
e.g., you might need to click on "Swedish (Sweden)" first,
and then select the specific variant like "Swedish (test (m17n))".</p>
</li>
<li>
<p>Confirm with "Add"</p>
</li>
<li>
<p>You can test the keyboard layout by clicking on the "eye" icon
next to the language in the list</p>
</li>
</ol>
</div>
</li>
<li>
<p>The language should show up global menu bar&#8217;s language selection.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="chrome"><a class="link" href="#chrome">4.2.8. Chrome</a></h4>
<div class="sect4">
<h5 id="project_level_configuration_and_properties_7"><a class="link" href="#project_level_configuration_and_properties_7">Project-level configuration and properties</a></h5>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
See <a href="#targetchrome">TargetChrome</a> in the reference section below.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="layout_level_configuration_and_properties_7"><a class="link" href="#layout_level_configuration_and_properties_7">Layout-level configuration and properties</a></h5>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Currently unspecified.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example of the layout-level targets section for Chrome</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">targets</span>:
  <span class="key">chrome</span>:
    <span class="key">locale</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">nb</span><span class="delimiter">&quot;</span></span>
    <span class="key">xkbLayout</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">no</span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="project_file_structure_reference"><a class="link" href="#project_file_structure_reference">5. Project file structure reference</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following is a complete reference of the structure
used internally by <code>kbdgen</code>
to read and write <code>.kbdgen</code> bundles.</p>
</div>
<div class="paragraph">
<p>Due to the auto-generated nature of this section,
the structures are listed in alphabetical order
even though they produce the nested files in the bundle.
Starting with <a href="#projectbundle">ProjectBundle</a>,
you can follow the links to reach each structure.</p>
</div>
<div class="sect2">
<h3 id="deriveoptions"><a class="link" href="#deriveoptions">5.1. DeriveOptions</a></h3>
<div class="paragraph">
<p>Derive options</p>
</div>
<div class="ulist">
<div class="title">Fields</div>
<ul>
<li>
<p><code>transforms</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>bool</code></p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="desktopkeymap"><a class="link" href="#desktopkeymap">5.2. DesktopKeyMap</a></h3>
<div class="paragraph">
<p>Map of keys on a desktop keyboard</p>
</div>
<div class="paragraph">
<p>A full keymap has 48 items. It has two forms of representation, a
string-based one with 12 items per line; the other representation is a
regular YAML map. Some keys might be omitted, which is represented as
<code>\u{0}</code> (the unicode escape for a <code>NULL</code> byte) in the string representation
or <code>None</code> in the map.</p>
</div>
<div class="paragraph">
<p>We will try to serialize everything that is more than half of a full map as
string-based key map; other sizes will be regular maps in YAML.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="error">&quot;' 1 2 3 4 5 6 7 8 9 0 + ´</span>
  <span class="error">á š e r t y u i o p å ŋ</span>
  <span class="error">a s d f g h j k l ö ä đ</span>
<span class="error">ž z č c v b n m , . -&quot;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="desktopmodes"><a class="link" href="#desktopmodes">5.3. DesktopModes</a></h3>
<div class="paragraph">
<p>Maps modifier combination to map of keys</p>
</div>
<div class="paragraph">
<p>In general only the <code>default</code> and <code>shift</code> modes are strictly required.
Some targets require other modes, and the tool will inform you if they are
missing.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">default</span>: <span class="string"><span class="delimiter">|</span><span class="content">
  ' 1 2 3 4 5 6 7 8 9 0 + ´
    á š e r t y u i o p å ŋ
    a s d f g h j k l ö ä đ
  ž z č c v b n m , . -</span></span>
<span class="key">shift</span>: <span class="string"><span class="delimiter">|</span><span class="content">
  § ! &quot; # $ % &amp; / ( ) = ? `
    Á Š E R T Y U I O P Å Ŋ
    A S D F G H J K L Ö Ä Đ
  Ž Z Č C V B N M ; : _</span></span>
<span class="error">cmd+shift</span>: <span class="error">|</span>
  <span class="error">° ! &quot; # € % &amp; / ( ) = ? `</span>
    <span class="error">Q W E R T Y U I O P Å ^</span>
    <span class="error">A S D F G H J K L Ö Ä *</span>
  <span class="error">&gt; Z X C V B N M ; : _</span></code></pre>
</div>
</div>
<div class="ulist">
<div class="title">Fields</div>
<ul>
<li>
<p><code>unnamed internal field #0</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>Map&lt;String, <a href="#desktopkeymap">DesktopKeyMap</a>&gt;</code></p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="layout"><a class="link" href="#layout">5.4. Layout</a></h3>
<div class="paragraph">
<p>A layout is defined as a file by the name <code>&lt;locale&gt;.yaml</code> and lives in the
<code>locales/</code> directory in the kbdgen project bundle.</p>
</div>
<div class="ulist">
<div class="title">Fields</div>
<ul>
<li>
<p><code>displayNames</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>Map&lt;String, String&gt;</code></p>
</div>
<div class="paragraph">
<p>The display names for the layout, keyed by locale.</p>
</div>
<div class="paragraph">
<p>A valid locale is any ISO 639-1 or 639-3 code. If a language has both,
prefer the 639-1 variant for better support.</p>
</div>
<div class="paragraph">
<p>It must be defined for at least the <code>en</code> locale, and preferably also for
each well-supported locale that you expect to support.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">displayNames</span>:
  <span class="key">en</span>: <span class="string"><span class="content">Julev Sami (Sweden)</span></span>
  <span class="key">smj</span>: <span class="string"><span class="content">Julevsámegiella (Svierik)</span></span>
  <span class="key">smj-SE</span>: <span class="string"><span class="content">Julevsámegiella (Svierik)</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>modes</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code><a href="#modes">Modes</a></code></p>
</div>
<div class="paragraph">
<p>The different modes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Do not forget the <code>\|</code> symbol after the <code>&lt;mode&gt;</code> key or you will
receive unexpected parsing errors.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">modes</span>:
  <span class="key">mobile</span>:
    <span class="key">default</span>: <span class="string"><span class="delimiter">|</span><span class="content">
      á w e r t y u i o p å
      a s d f g h j k l ö ä
         z x c v b n m ŋ</span></span>
    <span class="key">shift</span>: <span class="string"><span class="delimiter">|</span><span class="content">
      Á W E R T Y U I O P Å
      A S D F G H J K L Ö Ä
         Z X C V B N M Ŋ</span></span>
  <span class="key">mac</span>:
    <span class="key">default</span>: <span class="string"><span class="delimiter">|</span><span class="content">
      § 1 2 3 4 5 6 7 8 9 0 + ´
        á w e r t y u i o p å ŋ
        a s d f g h j k l ö ä '
      &lt; z x c v b n m , . -</span></span>
    <span class="comment"># ...</span></code></pre>
</div>
</div>
</li>
<li>
<p><code>decimal</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="paragraph">
<p>Specify the decimal separator for the given locale. Required for the
numpad keys on some targets. Normally a '.' or ','.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">decimal</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">,</span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>space</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>Map&lt;String, Map&lt;String, String&gt;&gt;</code></p>
</div>
<div class="paragraph">
<p>An override for space keys on some OSes. Keyed by target.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">space</span>:
  <span class="key">mac</span>:
    <span class="key">caps</span>: <span class="string"><span class="content">'\u{A0}'</span></span>
    <span class="key">alt</span>: <span class="string"><span class="content">'\u{A0}'</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>deadKeys</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>Map&lt;String, Map&lt;String, Vec&lt;String&gt;&gt;&gt;</code></p>
</div>
<div class="paragraph">
<p>Defines the dead keys for a target for a given <code>&lt;mode&gt;</code>.</p>
</div>
<div class="paragraph">
<p>This is a nested map:
The first key is the target;
the second key is the mode (from the modes property);
finally, the value is an array of dead keys.</p>
</div>
<div class="paragraph">
<p>It is recommended that the keys of this array are wrapped in quotes to
make diaeresis and other hard to see glyphs maintainable for future
developers, including yourself.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">deadKeys</span>:
  <span class="key">mac</span>:
    <span class="key">default</span>: <span class="string"><span class="content">[&quot;`&quot;]</span></span>
    <span class="key">shift</span>: <span class="string"><span class="content">['`']</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>longpress</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>Map&lt;String, String&gt;</code></p>
</div>
<div class="paragraph">
<p>The items to be shown when a key is long-pressed. Values are space
separated in one string.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">deadKeys</span>:
  <span class="key">mac</span>:
    <span class="key">default</span>: <span class="string"><span class="content">[&quot;`&quot;]</span></span>
    <span class="key">shift</span>: <span class="string"><span class="content">['`']</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>transforms</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>Map&lt;String, Map&lt;String, String&gt;&gt;</code></p>
</div>
<div class="paragraph">
<p>The chain of inputs necessary to provide an output after a deadkey is
pressed. Keyed by each individual input.</p>
</div>
<div class="paragraph">
<p>Always includes deadkeys but some targets support key sequencing
(replacing glyphs based on input pattern) — this behaviour is target
dependent.</p>
</div>
<div class="paragraph">
<p>This map may be repeatedly nested until a terminal is reached. If a
sequence is short-circuited, the <code>" "</code> is used as the fallback output in
all cases.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">longpress</span>:
  <span class="key">A</span>: <span class="string"><span class="content">Æ Ä Å Â</span></span>
  <span class="key">Á</span>: <span class="string"><span class="content">Q</span></span>
  <span class="key">C</span>: <span class="string"><span class="content">Č</span></span>
  <span class="key">D</span>: <span class="string"><span class="content">Đ</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>strings</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code><a href="#layoutstrings">LayoutStrings</a></code></p>
</div>
<div class="paragraph">
<p>Strings to be shown on some OSes</p>
</div>
<div class="paragraph">
<p>Currently, they are used for specifying strings to be shown on the space
and return keys on mobile targets.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">strings</span>:
  <span class="key">space</span>: <span class="string"><span class="content">space</span></span>
  <span class="key">return</span>: <span class="string"><span class="content">return</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>derive</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code><a href="#deriveoptions">DeriveOptions</a></code></p>
</div>
<div class="paragraph">
<p>Derives</p>
</div>
</li>
<li>
<p><code>targets</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code><a href="#layouttarget">LayoutTarget</a></code></p>
</div>
<div class="paragraph">
<p>A map of target-specific customisation properties.</p>
</div>
<div class="paragraph">
<p>Key is the code for the target. Only necessary if you need to set a
target-specific property.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">targets</span>:
  <span class="key">win</span>:
    <span class="key">locale</span>: <span class="string"><span class="content">sma-Latn-NO</span></span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="layoutstrings"><a class="link" href="#layoutstrings">5.5. LayoutStrings</a></h3>
<div class="paragraph">
<p>Strings to be shown on some OSes</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">space</span>: <span class="string"><span class="content">space</span></span>
<span class="key">return</span>: <span class="string"><span class="content">return</span></span></code></pre>
</div>
</div>
<div class="ulist">
<div class="title">Fields</div>
<ul>
<li>
<p><code>space</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">space</span>: <span class="string"><span class="content">gasska</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>return</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">return</span>: <span class="string"><span class="content">linnjamålssom</span></span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="layouttarget"><a class="link" href="#layouttarget">5.6. LayoutTarget</a></h3>
<div class="paragraph">
<p>Targets for settings per layout</p>
</div>
</div>
<div class="sect2">
<h3 id="layouttargetandroid"><a class="link" href="#layouttargetandroid">5.7. LayoutTargetAndroid</a></h3>
<div class="ulist">
<div class="title">Fields</div>
<ul>
<li>
<p><code>minimumSdk</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>u32</code></p>
</div>
<div class="paragraph">
<p>The API level that is the minimum supported for a keyboard. Useful for
limiting access to a keyboard where it is known several glyphs are
missing on older devices.</p>
</div>
<div class="paragraph">
<p><a href="https://source.android.com/source/build-numbers.html">See the Android documentation for API versions compared to OS version</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The lowest API supported by this keyboard is API 16, but it may
work on older variants.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">minimumSdk</span>: <span class="string"><span class="content">16</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>style</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>Map&lt;String, <a href="#yamlvalue">YamlValue</a>&gt;</code></p>
</div>
<div class="paragraph">
<p>Styles</p>
</div>
</li>
<li>
<p><code>legacyName</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="layouttargetios"><a class="link" href="#layouttargetios">5.8. LayoutTargetIOS</a></h3>
<div class="ulist">
<div class="title">Fields</div>
<ul>
<li>
<p><code>legacyName</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="paragraph">
<p>Minimum SDK can be specified for a specific layout</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="layouttargetwindows"><a class="link" href="#layouttargetwindows">5.9. LayoutTargetWindows</a></h3>
<div class="ulist">
<div class="title">Fields</div>
<ul>
<li>
<p><code>locale</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="paragraph">
<p>The actual locale within Windows, as per their broken ISO 639-3 scheme
or secret hardcoded lists.</p>
</div>
</li>
<li>
<p><code>languageName</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="paragraph">
<p>The language name to be cached, in order to try to mask the ugly ISO
code name that often shows.</p>
</div>
</li>
<li>
<p><code>id</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="mobilekeymap"><a class="link" href="#mobilekeymap">5.10. MobileKeyMap</a></h3>
<div class="paragraph">
<p>Map of keys for mobile targets</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This does not need to map to a physical keyboard layout,
so it is treated as a two-dimensional list of symbols.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="error">&quot;á w e r t y u i o p å</span>
<span class="error">a s d f g h j k l ö ä</span>
   <span class="error">z x c v b n m ŋ&quot;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="mobilemodes"><a class="link" href="#mobilemodes">5.11. MobileModes</a></h3>
<div class="paragraph">
<p>Maps modifier combination to map of keys</p>
</div>
<div class="paragraph">
<p>Both mobile-default and mobile-shift modes are required.</p>
</div>
<div class="ulist">
<div class="title">Fields</div>
<ul>
<li>
<p><code>unnamed internal field #0</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>Map&lt;String, <a href="#mobilekeymap">MobileKeyMap</a>&gt;</code></p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="modes"><a class="link" href="#modes">5.12. Modes</a></h3>
<div class="paragraph">
<p>Target specific modes</p>
</div>
<div class="paragraph">
<p>This is a nested map with known keys (the fields below) for each supported
target.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Each target is either described by <a href="#desktopmodes">DesktopModes</a>, or by
<a href="#mobilemodes">MobileModes</a>.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">modes</span>:
  <span class="key">mac</span>:
    <span class="key">default</span>: <span class="string"><span class="delimiter">|</span><span class="content">
      ' 1 2 3 4 5 6 7 8 9 0 + ´
        á š e r t y u i o p å ŋ
        a s d f g h j k l ö ä đ
      ž z č c v b n m , . -</span></span>
    <span class="key">shift</span>: <span class="string"><span class="delimiter">|</span><span class="content">
      § ! &quot; # $ % &amp; / ( ) = ? `
        Á Š E R T Y U I O P Å Ŋ
        A S D F G H J K L Ö Ä Đ
      Ž Z Č C V B N M ; : _</span></span>
  <span class="key">win</span>:
    <span class="key">default</span>: <span class="string"><span class="delimiter">|</span><span class="content">
      § 1 2 3 4 5 6 7 8 9 0 + ´
        á š e r t y u i o p å ŋ
        a s d f g h j k l ö ä đ
      ž z č c v b n m , . -</span></span>
    <span class="key">shift</span>: <span class="string"><span class="delimiter">|</span><span class="content">
      ½ ! &quot; # ¤ % &amp; / ( ) = ? `
        Á Š E R T Y U I O P Å Ŋ
        A S D F G H J K L Ö Ä Đ
      Ž Z Č C V B N M ; : _</span></span></code></pre>
</div>
</div>
<div class="ulist">
<div class="title">Fields</div>
<ul>
<li>
<p><code>win</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code><a href="#desktopmodes">DesktopModes</a></code></p>
</div>
<div class="paragraph">
<p>Windows</p>
</div>
</li>
<li>
<p><code>mac</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code><a href="#desktopmodes">DesktopModes</a></code></p>
</div>
</li>
<li>
<p><code>ios</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code><a href="#mobilemodes">MobileModes</a></code></p>
</div>
<div class="paragraph">
<p>iOS, used for both iPhone and iPad keyboards</p>
</div>
</li>
<li>
<p><code>android</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code><a href="#mobilemodes">MobileModes</a></code></p>
</div>
</li>
<li>
<p><code>chrome</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code><a href="#desktopmodes">DesktopModes</a></code></p>
</div>
<div class="paragraph">
<p>ChromeOS (used on Chrome Books)</p>
</div>
</li>
<li>
<p><code>x11</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code><a href="#desktopmodes">DesktopModes</a></code></p>
</div>
<div class="paragraph">
<p>Linux (X11)</p>
</div>
</li>
<li>
<p><code>desktop</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code><a href="#desktopmodes">DesktopModes</a></code></p>
</div>
<div class="paragraph">
<p>Desktop default mode</p>
</div>
</li>
<li>
<p><code>mobile</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code><a href="#mobilemodes">MobileModes</a></code></p>
</div>
<div class="paragraph">
<p>Mobile default mode</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="project"><a class="link" href="#project">5.13. Project</a></h3>
<div class="paragraph">
<p>Meta data for the project, stored in the <code>project.yaml</code> file.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">locales</span>:
  <span class="key">en</span>:
    <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Keyboard Project</span><span class="delimiter">&quot;</span></span>
    <span class="key">description</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">A test keyboard</span><span class="delimiter">&quot;</span></span>
  <span class="key">nb</span>:
    <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Tastatur</span><span class="delimiter">&quot;</span></span>
    <span class="key">description</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Et testtastatur</span><span class="delimiter">&quot;</span></span>
<span class="key">author</span>: <span class="string"><span class="content">Example Person</span></span>
<span class="key">email</span>: <span class="string"><span class="content">person@place.example</span></span>
<span class="key">organisation</span>: <span class="string"><span class="content">Example Corp</span></span>
<span class="key">copyright</span>: <span class="string"><span class="content">Copyright © 2017 Example Corpa</span></span></code></pre>
</div>
</div>
<div class="ulist">
<div class="title">Fields</div>
<ul>
<li>
<p><code>locales</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>Map&lt;String, <a href="#projectdesc">ProjectDesc</a>&gt;</code></p>
</div>
<div class="paragraph">
<p>Strings for describing the project.</p>
</div>
<div class="paragraph">
<p>This is a map from a language code (ISO 639-1 or ISO 639-3) to a project
description in that language. If a language has both an ISO 639-1 or ISO
639-3 code, prefer the 639-1 variant for better support.</p>
</div>
<div class="paragraph">
<p>The project description must be defined for at least the <code>en</code> locale,
and preferably also for each well-supported locale that you expect to
support.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">locales</span>:
  <span class="key">en</span>:
    <span class="key">name</span>: <span class="string"><span class="content">My Keyboard Project</span></span>
    <span class="key">description</span>: <span class="string"><span class="content">A keyboard supporting zero languages.</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>author</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="paragraph">
<p>The primary author(s)</p>
</div>
</li>
<li>
<p><code>email</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="paragraph">
<p>One email address to contact the author(s) of the project</p>
</div>
</li>
<li>
<p><code>copyright</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="paragraph">
<p>The copyright string to be used where and if necessary.</p>
</div>
</li>
<li>
<p><code>organisation</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="paragraph">
<p>The associated organisation. Put author here too if no organisation.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="projectbundle"><a class="link" href="#projectbundle">5.14. ProjectBundle</a></h3>
<div class="paragraph">
<p>A <code>.kbdgen</code> bundle is a directory with a specific structure.</p>
</div>
<div class="paragraph">
<p>Please note that the fields listed here are built from the contents of the
files in the bundle directory.</p>
</div>
<div class="listingblock">
<div class="title">Example of the structure of a <code>.kbdgen</code> bundle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="console">smj.kbdgen
├── layouts
│  ├── smj-NO.yaml
│  └── smj-SE.yaml
├── project.yaml
├── resources
│  └── mac
│     ├── background.png
│     ├── icon.smj-NO.png
│     └── icon.smj-SE.png
└── targets
   ├── android.yaml
   ├── ios.yaml
   ├── mac.yaml
   └── win.yaml</code></pre>
</div>
</div>
<div class="ulist">
<div class="title">Fields</div>
<ul>
<li>
<p><code>path</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>PathBuf</code></p>
</div>
<div class="paragraph">
<p>The local file system path to the <code>.kbdgen</code> bundle.</p>
</div>
</li>
<li>
<p><code>project</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code><a href="#project">Project</a></code></p>
</div>
<div class="paragraph">
<p>Data from <code>project.yaml</code> file</p>
</div>
</li>
<li>
<p><code>layouts</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>Map&lt;String, <a href="#layout">Layout</a>&gt;</code></p>
</div>
<div class="paragraph">
<p>The layouts to be included in this project, read from the <code>layouts/</code>
directory. The layout names are the names of the YAML files without the
<code>.yaml</code> suffix.</p>
</div>
</li>
<li>
<p><code>targets</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code><a href="#targets">Targets</a></code></p>
</div>
<div class="paragraph">
<p>Target-specific project-level properties stored in <code>targets/</code> directory.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="projectdesc"><a class="link" href="#projectdesc">5.15. ProjectDesc</a></h3>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Tastatur</span><span class="delimiter">&quot;</span></span>
<span class="key">description</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Et testtastatur</span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="ulist">
<div class="title">Fields</div>
<ul>
<li>
<p><code>name</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="paragraph">
<p>The name string for the project. For mobile keyboards, this is the title of the app.</p>
</div>
</li>
<li>
<p><code>description</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="paragraph">
<p>The description of the project.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="targetandroid"><a class="link" href="#targetandroid">5.16. TargetAndroid</a></h3>
<div class="ulist">
<div class="title">Fields</div>
<ul>
<li>
<p><code>version</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
</li>
<li>
<p><code>build</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>u32</code></p>
</div>
</li>
<li>
<p><code>packageId</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="paragraph">
<p>The reverse-domain notation ID for the package</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">packageId</span>: <span class="string"><span class="content">com.example.mypackageid</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>icon</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="paragraph">
<p>Path to the icon file to be converted into the various sizes required by
Android, relative to project root.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">icon</span>: <span class="string"><span class="content">icons/icon.png</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>sentryDsn</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
</li>
<li>
<p><code>showNumberHints</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>bool</code></p>
</div>
</li>
<li>
<p><code>minimumSdk</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>u32</code></p>
</div>
</li>
<li>
<p><code>chfst</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>bool</code></p>
</div>
</li>
<li>
<p><code>keyStore</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="paragraph">
<p>Path to the Android keystore (see <a href="#generating_keystores">Generating keystores</a> section for
more information)</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">keyStore</span>: <span class="string"><span class="content">my.keystore</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>keyAlias</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="paragraph">
<p>The key to use within the provided keystore</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">keyAlias</span>: <span class="string"><span class="content">myprojectkey</span></span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="targetchrome"><a class="link" href="#targetchrome">5.17. TargetChrome</a></h3>
<div class="ulist">
<div class="title">Fields</div>
<ul>
<li>
<p><code>version</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
</li>
<li>
<p><code>build</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>u32</code></p>
</div>
</li>
<li>
<p><code>appId</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="targetios"><a class="link" href="#targetios">5.18. TargetIOS</a></h3>
<div class="ulist">
<div class="title">Fields</div>
<ul>
<li>
<p><code>version</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">version</span>: <span class="string"><span class="content">0.1.0</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>build</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>u32</code></p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">build</span>: <span class="string"><span class="content">1</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>packageId</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">packageId</span>: <span class="string"><span class="content">com.example.mypackageid</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>icon</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">icon</span>: <span class="string"><span class="content">icons/icon.png</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>bundleName</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">bundleName</span>: <span class="string"><span class="content">Fancy Example Keyboards</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>teamId</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
</li>
<li>
<p><code>codeSignId</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">codeSignId</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">iPhone Distribution: The University of Tromso (000ABC000)</span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>sentryDsn</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
</li>
<li>
<p><code>aboutDir</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
</li>
<li>
<p><code>chfst</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>bool</code></p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="targetmacos"><a class="link" href="#targetmacos">5.19. TargetMacOS</a></h3>
<div class="ulist">
<div class="title">Fields</div>
<ul>
<li>
<p><code>version</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">version</span>: <span class="string"><span class="content">0.1.6</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>build</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>u32</code></p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">build</span>: <span class="string"><span class="content">12</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>packageId</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">packageId</span>: <span class="string"><span class="content">com.example.mypackageid</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>icon</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">icon</span>: <span class="string"><span class="content">icons/icon.png</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>bundleName</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">bundleName</span>: <span class="string"><span class="content">Fancy Example Keyboards</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>teamId</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
</li>
<li>
<p><code>codeSignId</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">codeSignId</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">iPhone Distribution: The University of Tromso (000ABC000)</span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="targetmim"><a class="link" href="#targetmim">5.20. TargetMim</a></h3>
<div class="ulist">
<div class="title">Fields</div>
<ul>
<li>
<p><code>language_code</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
</li>
<li>
<p><code>description</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="targetwindows"><a class="link" href="#targetwindows">5.21. TargetWindows</a></h3>
<div class="ulist">
<div class="title">Fields</div>
<ul>
<li>
<p><code>version</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">version</span>: <span class="string"><span class="content">0.2.0</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>appName</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">appName</span>: <span class="string"><span class="content">Fancy Example Keyboards</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>url</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">url</span>: <span class="string"><span class="content">'http://divvun.no'</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>uuid</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">uuid</span>: <span class="string"><span class="content">0D18406F-1209-43EF-B18F-58961BC8E2E3</span></span></code></pre>
</div>
</div>
</li>
<li>
<p><code>codeSignPfx</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
</li>
<li>
<p><code>customLocales</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
</li>
<li>
<p><code>licensePath</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
</li>
<li>
<p><code>readmePath</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="targetx11"><a class="link" href="#targetx11">5.22. TargetX11</a></h3>
<div class="ulist">
<div class="title">Fields</div>
<ul>
<li>
<p><code>version</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>String</code></p>
</div>
</li>
<li>
<p><code>build</code> <em>(required)</em></p>
<div class="paragraph">
<p>Type: <code>u32</code></p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="targets_2"><a class="link" href="#targets_2">5.23. Targets</a></h3>
<div class="paragraph">
<p>Mapping of target-specific properties, for example code signing
certificates, build and version numbers, and other resources to be included
at a project level.</p>
</div>
<div class="paragraph">
<p>See the documentation for each target for more information.</p>
</div>
<div class="ulist">
<div class="title">Fields</div>
<ul>
<li>
<p><code>android</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code><a href="#targetandroid">TargetAndroid</a></code></p>
</div>
<div class="paragraph">
<p>Android keyboard settings</p>
</div>
</li>
<li>
<p><code>i_os</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code><a href="#targetios">TargetIOS</a></code></p>
</div>
</li>
<li>
<p><code>mac_os</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code><a href="#targetmacos">TargetMacOS</a></code></p>
</div>
</li>
<li>
<p><code>windows</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code><a href="#targetwindows">TargetWindows</a></code></p>
</div>
</li>
<li>
<p><code>chrome</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code><a href="#targetchrome">TargetChrome</a></code></p>
</div>
</li>
<li>
<p><code>x11</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code><a href="#targetx11">TargetX11</a></code></p>
</div>
</li>
<li>
<p><code>mim</code> <em>(optional)</em></p>
<div class="paragraph">
<p>Type: <code><a href="#targetmim">TargetMim</a></code></p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="yamlvalue"><a class="link" href="#yamlvalue">5.24. YamlValue</a></h3>
<div class="paragraph">
<p>Opaque YAML value</p>
</div>
<div class="paragraph">
<p>Sorry, that means there is no further documentation on its structure here.</p>
</div>
</div>
</div>
</div>
</div>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid currentColor;opacity:.35;padding:0 .5em 0 0}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>